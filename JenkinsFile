pipeline {

   agent any
   stages{
      stages {
       stage("Build"){
         echo "Building..."
       }
    
        
      }
      }


stage("Unit testing"){

Post{
  always{
    emailext(
      subject: "Itegration Tests on Staging Status"
      to: "mohamed.sa9889@gmail.com"

     attachLog: true

}
stege("Code Anaylsis"){
    steps{
      echo "Analysing the code"
    }
}


stage("Deploy to Staging"){
   steps {
     echo "Deploying application AWS EC2"
   }
}





stage("Security scan"){
 steps{
  echo "Perform secutiy scan the scan on code using OWASP ZAP"
  post{
        always{
        mail to: " moahemd.sa9889@gmail.com
        subject: "build status emmail"
           body: " build log attached"
 }
}
}
}

stage("Integration Tests on Staging"){
  steps{
    echo "Now Running integration tests on staging enviornment using Selenium"
  }
 
}

stage("Deploy"){
 steps{
    echo "Deploying the application to an AWS ECS instance"
 }
}


}







}


        

